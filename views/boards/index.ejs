<% layout('layouts/boilerplate') %>

<h1>자유 게시판</h1>
<div class="mb-3 d-flex justify-content-end">
    <a href="/boards/new" class="btn btn-success">글쓰기</a>
</div>

<% var len = boards.length %>
<table class="table mt-3 text-center">
    <thead class="table-light">
        <tr>
            <th scope="col">No</th>
            <th scope="col">제목</th>
            <th scope="col">글쓴이</th>
            <th scope="col">작성시간</th>
            <th scope="col">댓글</th>
        </tr>
    </thead>

    <tbody>
        <% for (let board of boards) {%>
            <tr style="transform: rotate(0);" class="">
                <th scope="row" class=""><%= len-- %></th>
                <td class="col-md-6 text-start">
                    <a href="/boards/<%=board._id%>" class="stretched-link text-decoration-none link-dark">
                        <%= board.title %></a>
                </td>
                <td class="col-md-2 text-muted"><%= board.author.username %></td>
                <td class="col-md-auto text-muted"><%= board.writtenTime %></td>
                <td class="col-md-auto text-muted"><%= board.comments.length %></td>
            </tr>
        <% } %>
    </tbody>
</table>